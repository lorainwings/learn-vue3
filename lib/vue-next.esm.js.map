{"version":3,"file":"vue-next.esm.js","sources":["../src/shared/index.ts","../src/runtime-core/vnode.ts","../src/reactivity/effect.ts","../src/reactivity/baseHandlers.ts","../src/reactivity/reactive.ts","../src/runtime-core/componentEmit.ts","../src/runtime-core/componentProps.ts","../src/runtime-core/componentPublicInstance.ts","../src/runtime-core/componentSlots.ts","../src/runtime-core/component.ts","../src/runtime-core/render.ts","../src/runtime-core/createApp.ts","../src/runtime-core/h.ts","../src/runtime-core/helper/renderSlots.ts"],"sourcesContent":["export const extend = Object.assign;\nexport const isObject = (val) => val !== null && typeof val === 'object';\nexport const hasChanged = (n, o) => !Object.is(n, o);\nexport function hasOwn(target, key) {\n    return Object.prototype.hasOwnProperty.call(target, key);\n}\n// TPP\n// 先写一个特定的行为, 再重构成通用的行为\n// add -> Add\nexport const capitalize = (str) => {\n    return `${str.charAt(0).toUpperCase()}${str.slice(1)}`;\n};\nexport const camelize = (str) => {\n    return str.replace(/-(\\w)/g, (_, w) => {\n        return w ? `${w.toUpperCase()}` : '';\n    });\n};\nexport const toHandlerKey = (str) => {\n    return str ? `on${capitalize(str)}` : '';\n};\n//# sourceMappingURL=index.js.map","import { isObject } from '../shared';\nexport function createVNode(type, props, children) {\n    const vnode = {\n        // type就是原来的组件选项对象\n        type,\n        props,\n        children,\n        shapeFlag: getShapeFlag(type),\n        el: null\n    };\n    // children type\n    if (typeof children === 'string') {\n        vnode.shapeFlag |= 4 /* ShapeFlags.TEXT_CHILDREN */;\n    }\n    else if (Array.isArray(children)) {\n        vnode.shapeFlag |= 8 /* ShapeFlags.ARRAY_CHILDREN */;\n    }\n    // 必须是组件类型, 且children是一个object, 那么就是一个slot类型\n    if (vnode.shapeFlag & 2 /* ShapeFlags.STATEFUL_COMPONENT */) {\n        if (isObject(children)) {\n            vnode.shapeFlag |= 16 /* ShapeFlags.SLOTS_CHILDREN */;\n        }\n    }\n    return vnode;\n}\nfunction getShapeFlag(type) {\n    return typeof type === 'string'\n        ? 1 /* ShapeFlags.ELEMENT */\n        : 2 /* ShapeFlags.STATEFUL_COMPONENT */;\n}\n//# sourceMappingURL=vnode.js.map","import { extend } from '../shared';\n// 全局存储当前组件的effect\nlet activeEffect;\n// stop后是否应该收集依赖\nlet shouldTrack;\nconst targetMap = new Map();\nexport class ReactiveEffect {\n    constructor(fn, scheduler) {\n        this.scheduler = scheduler;\n        this.deps = [];\n        // 防止多次调用stop\n        this.active = true;\n        this.onStop = () => { };\n        // 组件更新函数\n        this._fn = fn;\n        this.scheduler = scheduler;\n    }\n    run() {\n        if (!this.active)\n            return this._fn();\n        shouldTrack = true;\n        // 全局指针先引用当前的ReactEffect实例\n        // 当前的ReactEffect实例存储着更新组件的componentUpdateFn\n        // 执行this._fn后, 会读取响应式变量, 接着触发了get陷阱函数\n        // 在陷阱函数的track中, 会通过dep来保存当前的ReactEffect实例\n        // 因此, 同一个组件只有一个ReactEffect实例\n        activeEffect = this;\n        const result = this._fn();\n        shouldTrack = false;\n        return result;\n    }\n    stop() {\n        if (this.active) {\n            cleanupEffect(this);\n            this.onStop && this.onStop();\n            this.active = false;\n        }\n    }\n}\nfunction cleanupEffect(effect) {\n    effect.deps.forEach((dep) => {\n        dep.delete(effect);\n    });\n    effect.deps.length = 0;\n}\nexport function track(target, key) {\n    if (!isTracking())\n        return;\n    // target -> key -> dep\n    let depsMap = targetMap.get(target);\n    if (!depsMap) {\n        depsMap = new Map();\n        targetMap.set(target, depsMap);\n    }\n    let deps = depsMap.get(key);\n    if (!deps) {\n        deps = new Set();\n        depsMap.set(key, deps);\n    }\n    trackEffects(deps);\n}\nexport function isTracking() {\n    // 在reactive中的单测代码, 并未执行effect, 所以activeEffect为undefined\n    // 如果外部并未执行effect, 而是直接读取响应式的值, 被get陷阱函数拦截, 调用track, 此处activeEffect为undefined\n    // 如果stop后, 不应该收集依赖, 因此直接返回\n    return shouldTrack && activeEffect !== undefined;\n}\nexport function trigger(target, key) {\n    const depsMap = targetMap.get(target);\n    const dep = depsMap.get(key);\n    triggerEffects(dep);\n}\nexport function triggerEffects(dep) {\n    for (const effect of dep) {\n        if (effect.scheduler) {\n            effect.scheduler();\n        }\n        else {\n            effect.run();\n        }\n    }\n}\nexport function trackEffects(deps) {\n    // 防止重复收集依赖, set中征对对象无法去重\n    if (deps.has(activeEffect))\n        return;\n    deps.add(activeEffect);\n    // activeEffect.deps是所有响应式所有key的deps\n    // 例如 reactive({a: 1, b: 2, c: 3})\n    // depsMap: { a: Set([avtiveEffect]), b: Set([avtiveEffect]), c: Set([avtiveEffect]) }\n    // 如果a,b,c都触发了响应式, 那么activeEffect.deps就会收集上面所有的Set\n    activeEffect.deps.push(deps);\n}\nexport function effect(fn, options = {}) {\n    const scheduler = options.scheduler;\n    const _effect = new ReactiveEffect(fn, scheduler);\n    // 考虑到后期会添加很多options的数据到_effect中, 因此重构此处\n    extend(_effect, options);\n    _effect.run();\n    const runner = _effect.run.bind(_effect);\n    runner.effect = _effect;\n    return runner;\n}\nexport function stop(runner) {\n    runner.effect.stop();\n}\n//# sourceMappingURL=effect.js.map","import { extend, isObject } from '../shared';\nimport { track, trigger } from './effect';\nimport { reactive, readonly } from './reactive';\n// 防止每次引用都会执行一次createGetter/createSetter\n// 缓存之后, 只会创建一次\nconst get = createGetter();\nconst set = createSetter();\nconst readonlyGet = createGetter(true);\nconst shallowReadonlyGet = createGetter(true, true);\nfunction createGetter(isReadonly = false, shallow = false) {\n    return function get(target, key) {\n        if (key === \"__v_isReactive\" /* ReactiveFlags.IS_REACTIVE */)\n            return !isReadonly;\n        if (key === \"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */)\n            return isReadonly;\n        const res = Reflect.get(target, key);\n        // 如果shallow为true, 那么只代理最外层的响应式, 内层不代理\n        if (shallow)\n            return res;\n        // 如果res也是object, 那么再次调用reactive, 递归代理\n        if (isObject(res)) {\n            return isReadonly ? readonly(res) : reactive(res);\n        }\n        if (!isReadonly) {\n            track(target, key);\n        }\n        return res;\n    };\n}\nfunction createSetter() {\n    return function set(target, key, value) {\n        const res = Reflect.set(target, key, value);\n        trigger(target, key);\n        return res;\n    };\n}\nexport const mutableHandlers = {\n    get,\n    set\n};\nexport const readonlyHandlers = {\n    get: readonlyGet,\n    set(t, k, v) {\n        console.warn(`cannot set readonly property ${k}`);\n        return true;\n    }\n};\n// 必须使用一个空对象作为原型, 否则会改到readonlyHandlers\nexport const shallowReadonlyHandlers = extend({}, readonlyHandlers, {\n    get: shallowReadonlyGet\n});\n//# sourceMappingURL=baseHandlers.js.map","import { isObject } from '../shared';\nimport { mutableHandlers, readonlyHandlers, shallowReadonlyHandlers } from './baseHandlers';\nexport function reactive(raw) {\n    return createActiveObject(raw, mutableHandlers);\n}\nexport function readonly(raw) {\n    return createActiveObject(raw, readonlyHandlers);\n}\n/* shallow只代理最外层的响应式, 内层不代理 */\nexport function shallowReadonly(raw) {\n    return createActiveObject(raw, shallowReadonlyHandlers);\n}\nexport function createActiveObject(raw, handlers) {\n    if (!isObject(raw)) {\n        console.warn(`target ${raw} 必须是一个对象`);\n        return raw;\n    }\n    return new Proxy(raw, handlers);\n}\nexport function isReactive(obj) {\n    return !!obj[\"__v_isReactive\" /* ReactiveFlags.IS_REACTIVE */];\n}\nexport function isReadonly(obj) {\n    return !!obj[\"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */];\n}\nexport function isProxy(obj) {\n    return isReactive(obj) || isReadonly(obj);\n}\n//# sourceMappingURL=reactive.js.map","import { camelize, toHandlerKey } from '../shared';\nexport function emit(instance, event, ...args) {\n    // instance.props -> event\n    const { props } = instance;\n    const handlerName = toHandlerKey(camelize(event));\n    const handler = props[handlerName];\n    handler && handler(...args);\n}\n//# sourceMappingURL=componentEmit.js.map","export function initProps(instance, rawProps) {\n    instance.props = rawProps || {};\n    // attrs\n}\n//# sourceMappingURL=componentProps.js.map","import { hasOwn } from '../shared';\n// 需要代理哪些常用响应属性\nexport const publicPropertiesMap = {\n    $el: (i) => i.vnode.el,\n    // $slots\n    $slots: (i) => i.slots\n};\nexport const PublicInstanceProxyHandles = {\n    get({ _: instance }, key) {\n        // setupState\n        const { setupState, props } = instance;\n        if (hasOwn(setupState, key)) {\n            return setupState[key];\n        }\n        else if (hasOwn(props, key)) {\n            return props[key];\n        }\n        // $el属性 | $slots属性\n        const publicGetter = publicPropertiesMap[key];\n        if (publicGetter) {\n            return publicGetter(instance);\n        }\n        // $data\n    }\n};\n//# sourceMappingURL=componentPublicInstance.js.map","export function initSlots(instance, children) {\n    // 不是所有的组件都有插槽, 因此需要判断\n    const { vnode } = instance;\n    if (vnode.shapeFlag & 16 /* ShapeFlags.SLOTS_CHILDREN */) {\n        normalizeObjectSlots(children, instance);\n    }\n}\nfunction normalizeObjectSlots(children, instance) {\n    // 为了实现具名插槽, 因此需要将children转换成对象\n    const slots = {};\n    for (const key in children) {\n        const value = children[key];\n        // slot\n        slots[key] = (slotScope) => normalizeSlotValue(value(slotScope));\n    }\n    instance.slots = slots;\n}\nfunction normalizeSlotValue(value) {\n    return Array.isArray(value) ? value : [value];\n}\n//# sourceMappingURL=componentSlots.js.map","import { shallowReadonly } from '../reactivity/reactive';\nimport { emit } from './componentEmit';\nimport { initProps } from './componentProps';\nimport { PublicInstanceProxyHandles } from './componentPublicInstance';\nimport { initSlots } from './componentSlots';\nexport function createComponentInstance(vnode) {\n    const component = {\n        vnode,\n        type: vnode.type,\n        setupState: {},\n        props: {},\n        slots: {},\n        emit() { }\n    };\n    component.emit = emit.bind(null, component);\n    return component;\n}\nexport function setupComponent(instance) {\n    initProps(instance, instance.vnode.props);\n    initSlots(instance, instance.vnode.children);\n    setupStatefulComponent(instance);\n}\nfunction setupStatefulComponent(instance) {\n    const Component = instance.type;\n    // 此处_用于传参\n    instance.proxy = new Proxy({ _: instance }, PublicInstanceProxyHandles);\n    const { setup } = Component;\n    if (setup) {\n        // function Object\n        const setupResult = setup(shallowReadonly(instance.props), {\n            emit: instance.emit\n        });\n        handleSetupResult(instance, setupResult);\n    }\n}\nfunction handleSetupResult(instance, setupResult) {\n    // function Object\n    // 实现function\n    if (typeof setupResult === 'object') {\n        instance.setupState = setupResult;\n    }\n    // 保证最终的组件render一定有值\n    finishComponent(instance);\n}\nfunction finishComponent(instance) {\n    const Component = instance.type;\n    instance.render = Component.render;\n}\n//# sourceMappingURL=component.js.map","import { createComponentInstance, setupComponent } from './component';\nexport function render(vnode, container) {\n    // 调用patch\n    patch(vnode, container);\n}\nfunction patch(vnode, container) {\n    // 按类型处理vnode\n    // 组件vnode.type是个对象, 而普通元素vnode.type是个字符串\n    if (vnode.shapeFlag & 1 /* ShapeFlags.ELEMENT */) {\n        // 判断是不是element类型\n        processElement(vnode, container);\n    }\n    else if (vnode.shapeFlag & 2 /* ShapeFlags.STATEFUL_COMPONENT */) {\n        // 如果是组件类型\n        processComponent(vnode, container);\n    }\n}\nfunction processComponent(vnode, container) {\n    mountComponent(vnode, container);\n}\nfunction mountComponent(initialVnode, container) {\n    const instance = createComponentInstance(initialVnode);\n    setupComponent(instance);\n    setupRenderEffect(instance, initialVnode, container);\n}\nfunction setupRenderEffect(instance, initialVnode, container) {\n    const { proxy } = instance;\n    // sub vnode -> patch -> element -> mountElement\n    const subTree = instance.render.call(proxy);\n    // 递归处理所有子节点\n    patch(subTree, container);\n    // 所有element已经处理完成\n    initialVnode.el = subTree.el;\n}\nfunction processElement(vnode, container) {\n    // 包含初始化和更新两个流程\n    mountElement(vnode, container);\n}\nfunction mountElement(vnode, container) {\n    // 分为普通元素string类型和一个子元素数组类型\n    const el = (vnode.el = document.createElement(vnode.type));\n    const { children, props, shapeFlag } = vnode;\n    // 处理children\n    if (shapeFlag & 4 /* ShapeFlags.TEXT_CHILDREN */) {\n        el.textContent = children;\n    }\n    else if (shapeFlag & 8 /* ShapeFlags.ARRAY_CHILDREN */) {\n        mountChildren(children, el);\n    }\n    // props\n    for (const key in props) {\n        const val = props[key];\n        // 重构步骤, 从具体到抽象, 从一个具体的情况抽象为通用的情况\n        const isOn = (key) => /^on[A-Z]/g.test(key);\n        if (isOn(key)) {\n            el.addEventListener(key.toLowerCase().replace(/on/, ''), props[key]);\n        }\n        else {\n            el.setAttribute(key, val);\n        }\n    }\n    container.append(el);\n}\nfunction mountChildren(children, el) {\n    children.forEach((v) => {\n        patch(v, el);\n    });\n}\n//# sourceMappingURL=render.js.map","import { createVNode } from './vnode';\nimport { render } from './render';\nexport function createApp(rootComponent) {\n    return {\n        mount(rootContainer) {\n            /**\n             *  1. 先转VNode\n             *  */\n            // 将入口component->转化成 VNode\n            const vnode = createVNode(rootComponent);\n            /**\n             *  2. 后续所有逻辑操作都会基于VNode进行\n             *  */\n            render(vnode, rootContainer);\n        }\n    };\n}\n//# sourceMappingURL=createApp.js.map","import { createVNode } from './vnode';\nexport function h(type, props, children) {\n    return createVNode(type, props, children);\n}\n//# sourceMappingURL=h.js.map","import { createVNode } from '../vnode';\nexport function renderSlots(slots, name, slotScope) {\n    const slot = slots[name];\n    // 需将slots包装为vnode\n    if (slot) {\n        if (typeof slot === 'function') {\n            return createVNode('div', {}, slot(slotScope));\n        }\n    }\n}\n//# sourceMappingURL=renderSlots.js.map"],"names":[],"mappings":"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"}